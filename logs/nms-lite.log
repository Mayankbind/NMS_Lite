2025-11-11 15:48:43.130 [main] INFO  [] com.nms.Main - Starting NMS Lite Backend Application...
2025-11-11 15:48:43.465 [vert.x-eventloop-thread-0] INFO  [] com.nms.Main - Starting NMS Lite Backend Service...
2025-11-11 15:48:43.788 [vert.x-eventloop-thread-0] INFO  [] com.nms.Main - Configuration loaded successfully
2025-11-11 15:48:44.213 [vert.x-eventloop-thread-0] INFO  [] com.nms.Main - Database connection established successfully
2025-11-11 15:48:44.213 [vert.x-eventloop-thread-0] INFO  [] com.nms.Main - Deploying Discovery Worker Verticle with 2 instances and pool size 4
2025-11-11 15:48:44.228 [discovery-worker-pool-0] INFO  [] c.n.v.DiscoveryWorkerVerticle - Starting Discovery Worker Verticle...
2025-11-11 15:48:44.229 [discovery-worker-pool-1] INFO  [] c.n.v.DiscoveryWorkerVerticle - Starting Discovery Worker Verticle...
2025-11-11 15:48:44.239 [discovery-worker-pool-1] INFO  [] c.n.v.DiscoveryWorkerVerticle - Discovery Worker: Configuration loaded successfully
2025-11-11 15:48:44.240 [discovery-worker-pool-0] INFO  [] c.n.v.DiscoveryWorkerVerticle - Discovery Worker: Configuration loaded successfully
2025-11-11 15:48:44.278 [discovery-worker-pool-1] INFO  [] c.n.v.DiscoveryWorkerVerticle - Discovery Worker: Database connection established successfully
2025-11-11 15:48:44.279 [discovery-worker-pool-0] INFO  [] c.n.v.DiscoveryWorkerVerticle - Discovery Worker: Database connection established successfully
2025-11-11 15:48:44.285 [discovery-worker-pool-1] INFO  [] c.n.v.DiscoveryWorkerVerticle - Discovery Worker: Event Bus consumers registered
2025-11-11 15:48:44.285 [discovery-worker-pool-0] INFO  [] c.n.v.DiscoveryWorkerVerticle - Discovery Worker: Event Bus consumers registered
2025-11-11 15:48:44.285 [discovery-worker-pool-1] INFO  [] c.n.v.DiscoveryWorkerVerticle - Discovery Worker Verticle started successfully
2025-11-11 15:48:44.285 [discovery-worker-pool-0] INFO  [] c.n.v.DiscoveryWorkerVerticle - Discovery Worker Verticle started successfully
2025-11-11 15:48:44.286 [vert.x-eventloop-thread-0] INFO  [] com.nms.Main - Discovery Worker Verticle deployed with ID: 316768e0-1896-4875-8f35-af7150b471fd
2025-11-11 15:48:44.371 [vert.x-eventloop-thread-0] INFO  [] com.nms.Main - HTTP server started on 0.0.0.0:8080
2025-11-11 15:48:44.372 [vert.x-eventloop-thread-0] INFO  [] com.nms.Main - NMS Lite Backend Service started successfully on port: 8080
2025-11-11 15:48:44.372 [vert.x-eventloop-thread-6] INFO  [] com.nms.Main - Main verticle deployed successfully with ID: 0d96f8ce-9fe8-4c3f-8b70-4da5952ef56f
2025-11-11 15:48:56.997 [vert.x-eventloop-thread-0] INFO  [bb1a78a2-8c68-4375-8494-1b9a4d3d4fa3] c.nms.middleware.LoggingMiddleware - POST /api/auth/login from 0:0:0:0:0:0:0:1:48742 - User-Agent: PostmanRuntime/7.49.0 - Correlation-ID: bb1a78a2-8c68-4375-8494-1b9a4d3d4fa3
2025-11-11 15:48:57.000 [vert.x-eventloop-thread-0] DEBUG [bb1a78a2-8c68-4375-8494-1b9a4d3d4fa3] c.n.m.SecurityHeadersMiddleware - Security headers added to response
2025-11-11 15:48:57.478 [vert.x-eventloop-thread-0] DEBUG [bb1a78a2-8c68-4375-8494-1b9a4d3d4fa3] com.nms.services.DatabaseService - Updated last login for user: b2ee99a3-5dc9-4c32-99ea-1e2ccc3eea86
2025-11-11 15:48:57.486 [vert.x-eventloop-thread-0] INFO  [bb1a78a2-8c68-4375-8494-1b9a4d3d4fa3] com.nms.services.AuthService - User admin authenticated successfully
2025-11-11 15:48:57.487 [vert.x-eventloop-thread-0] INFO  [bb1a78a2-8c68-4375-8494-1b9a4d3d4fa3] com.nms.handlers.AuthHandler - User admin logged in successfully
2025-11-11 15:48:57.488 [vert.x-eventloop-thread-0] INFO  [bb1a78a2-8c68-4375-8494-1b9a4d3d4fa3] c.nms.middleware.LoggingMiddleware - POST /api/auth/login - Status: 200 - Response time: 0ms - Correlation-ID: bb1a78a2-8c68-4375-8494-1b9a4d3d4fa3
2025-11-11 15:50:57.756 [vert.x-eventloop-thread-0] INFO  [f5a7f815-f6ab-4c9e-84c3-9f6f1566e039] c.nms.middleware.LoggingMiddleware - GET /api/credentials from 0:0:0:0:0:0:0:1:34236 - User-Agent: PostmanRuntime/7.49.0 - Correlation-ID: f5a7f815-f6ab-4c9e-84c3-9f6f1566e039
2025-11-11 15:50:57.756 [vert.x-eventloop-thread-0] DEBUG [f5a7f815-f6ab-4c9e-84c3-9f6f1566e039] c.n.m.SecurityHeadersMiddleware - Security headers added to response
2025-11-11 15:50:57.774 [vert.x-eventloop-thread-0] DEBUG [f5a7f815-f6ab-4c9e-84c3-9f6f1566e039] com.nms.middleware.AuthMiddleware - User admin authenticated successfully
2025-11-11 15:50:57.793 [vert.x-eventloop-thread-0] INFO  [f5a7f815-f6ab-4c9e-84c3-9f6f1566e039] com.nms.services.CredentialService - Retrieved 12 credential profiles for user
2025-11-11 15:50:57.804 [vert.x-eventloop-thread-0] INFO  [f5a7f815-f6ab-4c9e-84c3-9f6f1566e039] c.nms.middleware.LoggingMiddleware - GET /api/credentials - Status: 200 - Response time: 0ms - Correlation-ID: f5a7f815-f6ab-4c9e-84c3-9f6f1566e039
2025-11-11 15:51:58.108 [vert.x-eventloop-thread-0] INFO  [b2d0cba5-627a-4361-89c8-7bf9744a38ce] c.nms.middleware.LoggingMiddleware - GET /api/credentials/95dfdb16-9dbe-476d-8a78-4071ec879c41 from 0:0:0:0:0:0:0:1:39096 - User-Agent: PostmanRuntime/7.49.0 - Correlation-ID: b2d0cba5-627a-4361-89c8-7bf9744a38ce
2025-11-11 15:51:58.108 [vert.x-eventloop-thread-0] DEBUG [b2d0cba5-627a-4361-89c8-7bf9744a38ce] c.n.m.SecurityHeadersMiddleware - Security headers added to response
2025-11-11 15:51:58.120 [vert.x-eventloop-thread-0] DEBUG [b2d0cba5-627a-4361-89c8-7bf9744a38ce] com.nms.middleware.AuthMiddleware - User admin authenticated successfully
2025-11-11 15:51:58.132 [vert.x-eventloop-thread-0] INFO  [b2d0cba5-627a-4361-89c8-7bf9744a38ce] com.nms.services.CredentialService - Retrieved credential profile: Linux
2025-11-11 15:51:58.137 [vert.x-eventloop-thread-0] INFO  [b2d0cba5-627a-4361-89c8-7bf9744a38ce] c.nms.middleware.LoggingMiddleware - GET /api/credentials/95dfdb16-9dbe-476d-8a78-4071ec879c41 - Status: 200 - Response time: 0ms - Correlation-ID: b2d0cba5-627a-4361-89c8-7bf9744a38ce
2025-11-11 15:52:14.504 [vert.x-eventloop-thread-0] INFO  [df4e7fc9-c069-43b4-88e2-d7aaa6bb25b5] c.nms.middleware.LoggingMiddleware - POST /api/discovery/start from 0:0:0:0:0:0:0:1:39096 - User-Agent: PostmanRuntime/7.49.0 - Correlation-ID: df4e7fc9-c069-43b4-88e2-d7aaa6bb25b5
2025-11-11 15:52:14.505 [vert.x-eventloop-thread-0] DEBUG [df4e7fc9-c069-43b4-88e2-d7aaa6bb25b5] c.n.m.SecurityHeadersMiddleware - Security headers added to response
2025-11-11 15:52:14.515 [vert.x-eventloop-thread-0] DEBUG [df4e7fc9-c069-43b4-88e2-d7aaa6bb25b5] com.nms.middleware.AuthMiddleware - User admin authenticated successfully
2025-11-11 15:52:14.519 [discovery-worker-pool-3] DEBUG [] c.n.v.DiscoveryWorkerVerticle - Discovery Worker: Received start discovery request: {"name":"First Scan","targetRange":"10.20.41.6/32","credentialProfileId":"46a97c54-a9e0-4318-80d3-6d6da11855d1","userId":"b2ee99a3-5dc9-4c32-99ea-1e2ccc3eea86"}
2025-11-11 15:52:14.552 [discovery-worker-pool-3] INFO  [] com.nms.services.DiscoveryService - Created discovery job: 82a03920-aebf-48ca-9fd5-f7290fa18884 for user: b2ee99a3-5dc9-4c32-99ea-1e2ccc3eea86
2025-11-11 15:52:14.555 [discovery-worker-pool-3] INFO  [] c.n.v.DiscoveryWorkerVerticle - Discovery Worker: Started discovery job 82a03920-aebf-48ca-9fd5-f7290fa18884 for user b2ee99a3-5dc9-4c32-99ea-1e2ccc3eea86
2025-11-11 15:52:14.555 [vert.x-eventloop-thread-0] DEBUG [df4e7fc9-c069-43b4-88e2-d7aaa6bb25b5] c.nms.services.DiscoveryServiceProxy - Discovery proxy: Started discovery job 82a03920-aebf-48ca-9fd5-f7290fa18884 for user b2ee99a3-5dc9-4c32-99ea-1e2ccc3eea86
2025-11-11 15:52:14.556 [vert.x-eventloop-thread-0] INFO  [df4e7fc9-c069-43b4-88e2-d7aaa6bb25b5] com.nms.handlers.DiscoveryHandler - Started discovery job 82a03920-aebf-48ca-9fd5-f7290fa18884 for user b2ee99a3-5dc9-4c32-99ea-1e2ccc3eea86
2025-11-11 15:52:14.556 [vert.x-eventloop-thread-0] INFO  [df4e7fc9-c069-43b4-88e2-d7aaa6bb25b5] c.nms.middleware.LoggingMiddleware - POST /api/discovery/start - Status: 201 - Response time: 0ms - Correlation-ID: df4e7fc9-c069-43b4-88e2-d7aaa6bb25b5
2025-11-11 15:52:14.574 [discovery-worker-pool-0] DEBUG [] com.nms.services.DiscoveryService - Updated job 82a03920-aebf-48ca-9fd5-f7290fa18884 status to running
2025-11-11 15:52:14.595 [discovery-worker-pool-3] INFO  [] com.nms.utils.NetworkUtils - Parsed CIDR 10.20.41.6/32 into 1 IP addresses
2025-11-11 15:52:14.702 [discovery-worker-pool-3] DEBUG [] com.nms.utils.NetworkUtils - IP 10.20.41.6 is reachable
2025-11-11 15:52:14.702 [discovery-worker-pool-3] INFO  [] com.nms.utils.NetworkUtils - Ping sweep completed: 1/1 IPs reachable
2025-11-11 15:52:14.702 [discovery-worker-pool-3] INFO  [] com.nms.services.DiscoveryService - Discovery job 82a03920-aebf-48ca-9fd5-f7290fa18884 found 1 reachable IPs
2025-11-11 15:52:14.702 [discovery-worker-pool-3] INFO  [] com.nms.services.DiscoveryService - Discovery job 82a03920-aebf-48ca-9fd5-f7290fa18884 scanning for SSH port 22 on 1 reachable IPs
2025-11-11 15:52:14.710 [discovery-worker-pool-3] DEBUG [] com.nms.utils.NetworkUtils - Port 22 is open on 10.20.41.6
2025-11-11 15:52:14.710 [discovery-worker-pool-3] DEBUG [] com.nms.utils.NetworkUtils - Port 22 is open on 10.20.41.6
2025-11-11 15:52:14.710 [discovery-worker-pool-3] INFO  [] com.nms.utils.NetworkUtils - Port scan completed: 1/1 IPs have port 22 open
2025-11-11 15:52:14.711 [discovery-worker-pool-3] INFO  [] com.nms.services.DiscoveryService - Discovery job 82a03920-aebf-48ca-9fd5-f7290fa18884 found 1 IPs with SSH port 22 open (filtered from 1 reachable IPs)
2025-11-11 15:52:15.180 [discovery-worker-pool-2] DEBUG [] com.nms.utils.SshUtils - SSH connection successful to 10.20.41.6:22
2025-11-11 15:52:15.681 [discovery-worker-pool-2] INFO  [] com.nms.utils.SshUtils - Gathered device info for 10.20.41.6: helpin-lakkad-ThinkPad-T14s-Gen-1
2025-11-11 15:52:15.683 [discovery-worker-pool-2] INFO  [] com.nms.services.DiscoveryService - Discovered device: helpin-lakkad-ThinkPad-T14s-Gen-1 (10.20.41.6)
2025-11-11 15:52:15.685 [discovery-worker-pool-2] DEBUG [] com.nms.services.DiscoveryService - Storing discovered device. hostname=helpin-lakkad-ThinkPad-T14s-Gen-1, ip_address=10.20.41.6, type=linux
2025-11-11 15:52:15.717 [discovery-worker-pool-0] DEBUG [] com.nms.services.DiscoveryService - Stored discovered device: helpin-lakkad-ThinkPad-T14s-Gen-1
2025-11-11 15:52:15.738 [discovery-worker-pool-2] DEBUG [] com.nms.services.DiscoveryService - Updated job 82a03920-aebf-48ca-9fd5-f7290fa18884 results
2025-11-11 15:52:15.759 [discovery-worker-pool-0] DEBUG [] com.nms.services.DiscoveryService - Updated job 82a03920-aebf-48ca-9fd5-f7290fa18884 status to completed
2025-11-11 15:52:15.759 [discovery-worker-pool-0] INFO  [] com.nms.services.DiscoveryService - Discovery job 82a03920-aebf-48ca-9fd5-f7290fa18884 completed: 1 devices discovered
